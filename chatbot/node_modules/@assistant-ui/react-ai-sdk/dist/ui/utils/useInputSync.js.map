{"version":3,"sources":["../../../src/ui/utils/useInputSync.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAssistant, useChat } from \"@ai-sdk/react\";\nimport { AssistantRuntime } from \"@assistant-ui/react\";\n\ntype VercelHelpers =\n  | ReturnType<typeof useChat>\n  | ReturnType<typeof useAssistant>;\n\nexport const useInputSync = (\n  { setInput, input }: VercelHelpers,\n  runtime: AssistantRuntime,\n) => {\n  // sync input from vercel to assistant-ui\n  useEffect(() => {\n    runtime.thread.composer.setText(input);\n  }, [runtime, input]);\n\n  // sync input from assistant-ui to vercel\n  useEffect(() => {\n    return runtime.thread.composer.subscribe(() => {\n      setInput(runtime.thread.composer.getState().text);\n    });\n  }, [runtime, setInput]);\n};\n"],"mappings":";;;AAEA,SAAS,iBAAiB;AAQnB,IAAM,eAAe,CAC1B,EAAE,UAAU,MAAM,GAClB,YACG;AAEH,YAAU,MAAM;AACd,YAAQ,OAAO,SAAS,QAAQ,KAAK;AAAA,EACvC,GAAG,CAAC,SAAS,KAAK,CAAC;AAGnB,YAAU,MAAM;AACd,WAAO,QAAQ,OAAO,SAAS,UAAU,MAAM;AAC7C,eAAS,QAAQ,OAAO,SAAS,SAAS,EAAE,IAAI;AAAA,IAClD,CAAC;AAAA,EACH,GAAG,CAAC,SAAS,QAAQ,CAAC;AACxB;","names":[]}